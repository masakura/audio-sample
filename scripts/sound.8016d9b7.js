var my=my||{};my.sound=my.sound||{},function(){"use strict";var a=function(a,b){return{down:function(c){var d=a.currentTime;c.gain.cancelScheduledValues(0),c.gain.setValueAtTime(0,d),c.gain.linearRampToValueAtTime(1,d+b.attack),c.gain.linearRampToValueAtTime(1*b.sustain,d+b.attack+b.decay)},up:function(c){var d=a.currentTime,e=c.gain.value;c.gain.cancelScheduledValues(0),c.gain.setValueAtTime(e,d),c.gain.linearRampToValueAtTime(0,d+b.release)}}},b=function(b,c,d){d=d||a(b,{attack:.1,decay:.5,sustain:.8,release:2});var e=b.createOscillator(),f=b.createGain();return c&&(e.type=c),e.connect(f),f.gain.value=0,e.start(0),{connect:function(a){f.connect(a)},getConnector:function(){return e.frequency},down:function(){d.down(f)},up:function(){d.up(f)}}},c=function(a,c,d){var e=b(a,c,d);return{getConnectableOperators:function(){return[e]},getOperators:function(){return[e]}}};my.sound.presets={sine:function(a){return c(a,"sine")},square:function(a){return c(a,"square")},sawtooth:function(a){return c(a,"sawtooth")},triangle:function(a){return c(a,"triangle")},pararrel4:function(a){var c=[b(a,"sine"),b(a,"sine"),b(a,"sine"),b(a,"sine")];return{getConnectableOperators:function(){return c},getOperators:function(){return c}}},serial4:function(a){var c=[b(a,"sine"),b(a,"sine"),b(a,"sine"),b(a,"sine")];return c[3].connect(c[2].getConnector()),c[2].connect(c[1].getConnector()),c[1].connect(c[0].getConnector()),{getConnectableOperators:function(){return[c[0]]},getOperators:function(){return c}}}};var d=function(a,b){var c=b(a),d=a.createBiquadFilter();return c.getConnectableOperators().forEach(function(a){a.connect(d)}),d.connect(a.destination),{down:function(){c.getOperators().forEach(function(a){a.down()})},up:function(){c.getOperators().forEach(function(a){a.up()})}}};my.sound.createSound=function(a){return{createChannel:function(b){return d(a,b)}}}}();